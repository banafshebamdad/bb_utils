# InCrowd-VI SuperPoint Label Generation Configuration
#
# This configuration file specifies all parameters for generating SuperPoint
# training labels from the InCrowd-VI dataset.
#
# Author: Banafshe Bamdad
# Date: January 21, 2026 16:04:00 CET

# ============================================================================
# DATA PATHS
# ============================================================================
data:
  # Root directory containing .csv.gz files
  # Structure: [mps_root]/[scene_name]/mps_[sequence_name]_vrs/
  mps_root: "/home/ubuntu/InCrowd-VI_points_observations"
  
  # Root directory containing frame images
  # Structure: [frames_root]/[sequence]_[L/R]_[timestamp_us].png
  frames_root: "/home/ubuntu/frames/train"
  
  # Output directory for generated labels
  # Structure: [output_labels_root]/[frame_name].npz
  output_labels_root: "/home/ubuntu/pytorch-superpoint/datasets/incrowdvi/superpoint_labels/train"
  
  # Camera serial number mappings
  # Used to identify left/right camera from CSV data
  camera_serials:
    left: "0072510f1b2107010500001910150001"
    right: "0072510f1b2107010800001127080001"

# ============================================================================
# MODEL PARAMETERS
# ============================================================================
model:
  # Minimum confidence threshold to keep a keypoint
  # Keypoints with confidence < detection_threshold are filtered out
  detection_threshold: 0.015
  
  # Maximum number of keypoints to keep per frame
  # Keypoints are sorted by confidence and top-k are selected
  # Set to 0 or null to keep all keypoints above threshold
  top_k: 1000
  
  # Confidence computation configuration
  confidence:
    # Method for computing confidence from inv_dist_std
    # Available methods:
    #   - 'inverse_normalized': confidence = 1 - (inv_dist_std / max_inv_dist_std)
    #   - 'exponential': confidence = exp(-scale * inv_dist_std)
    method: "inverse_normalized"
    
    # Method-specific parameters
    params: {}  # Empty dict for inverse_normalized
      # For 'exponential' method, add:
      # scale: 1.0

# ============================================================================
# OUTPUT CONFIGURATION
# ============================================================================
output:
  # Whether to generate a summary report
  generate_report: true
  
  # Report filename (saved in output_labels_root)
  report_file: "label_generation_report.txt"
